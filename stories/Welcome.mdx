import { Meta } from "@storybook/addon-docs";

<Meta title="Docs/Welcome" />

# PickMe Storybook

Micro Frontend 구성의 PickMe 애플리케이션들의 공통 컴포넌트를 위한 Storybook 페이지입니다.

<div className="subheading">rules</div>

storybook을 작성할 때 아래와 같은 규칙들을 따릅니다.

-   **컴포넌트 생성**

    1. 각 프레임워크에 맞는 위치에서 컴포넌트를 생성합니다.
    `/src/react-components/` `/src/vue-components/`

    2. 외부로 내보낼 컴포넌트는 index 파일에서 export 합니다.

-   **스토리 생성**

    각 컴포넌트의 확장자에 `.stories.`를 추가하여 생성합니다.

<div className="subheading">use</div>


Module Federation을 통해 외부에서 컴포넌트를 불러올 수 있도록 빌드됩니다.
외부 프로젝트는 아래와 같이 컴포넌트를 불러올 수 있습니다.

```jsx
import { Button } from '@styleguide/react';
```


## 색상 팔레트

![palette](https://github.com/user-attachments/assets/124ce6af-bc46-4134-aef2-c2822358b038)

export function hex_to_hsl(hex) {
    // 헥사코드를 RGB로 변환
    const r = parseInt(hex.substring(1, 3), 16) / 255;
    const g = parseInt(hex.substring(3, 5), 16) / 255;
    const b = parseInt(hex.substring(5, 7), 16) / 255;
    // RGB에서 최대값과 최소값 구하기
    const max = Math.max(r, g, b);
    const min = Math.min(r, g, b);
    // hue(색상), saturation(채도), lightness(밝기)
    let h, s, l = (max + min) / 2;

    if (max === min) {
        h = s = 0; // 회색조
    } else {
        let d = max - min;
        // 채도 계산
        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
        // 색상 계산
        switch (max) {
            case r:
                h = (g - b) / d + (g < b ? 6 : 0);
                break;
            case g:
                h = (b - r) / d + 2;
                break;
            case b:
                h = (r - g) / d + 4;
                break;
        }
        h /= 6;
    }

    // HSL 값을 퍼센트로 변환
    h = Math.round(h * 360);
    s = Math.round(s * 100);
    l = Math.round(l * 100);

    return { h, s, l };
}

export function hsl_to_hex({ h, s, l }) {
    s /= 100; l /= 100;
    // chroma(채도 강도), m(보정값)
    const c = (1 - Math.abs(2 * l - 1)) * s;
    const x = c * (1 - Math.abs(((h / 60) % 2) - 1));
    const m = l - c / 2;

    // RGB 값 계산
    let [r, g, b] =
        h < 60 ? [c, x, 0] :
            h < 120 ? [x, c, 0] :
                h < 180 ? [0, c, x] :
                    h < 240 ? [0, x, c] :
                        h < 300 ? [x, 0, c] :
                            [c, 0, x];
    r = Math.round((r + m) * 255);
    g = Math.round((g + m) * 255);
    b = Math.round((b + m) * 255);

    // 헥사코드로 변환
    return `#${((1 << 24) | (r << 16) | (g << 8) | b)
        .toString(16)
        .slice(1)
        .toUpperCase()}`;
}

export function adjust_lightness(hsl) {
    // hsl 객체를 받아서 밝기를 조절
    return function (percentage) {
        const l = Math.max(0, Math.min(100, hsl.l - percentage));
        return { ...hsl, l };
    };
}

export function generate_color_shades(hex) {
    // 헥사코드를 받아서 10단계의 색상을 생성
    return Array.from({ length: 10 }, (_, index) => (5 - index) * 10)
        .map(adjust_lightness(hex_to_hsl(hex)))
        .map(hsl_to_hex);
}

export const color_scheme = [
    { name: 'Primary', color: '#E27396', },
    { name: 'Secondary', color: '#B1DEE2', },
    { name: 'Tertiary', color: '#EBF3D8', }
].map(({ color, ...rest }) => ({ color, shades: generate_color_shades(color), ...rest }));

<table>
    {color_scheme.map(({name, color, shades}) => (
        <tr>
            <td className="palette-td" style={{ backgroundColor: shades[0], color: 'white' }}>{ name }</td>
            {shades.map((shade) => (
                <td className="palette-td" style={{ backgroundColor: shade }}>
                    {shade === color ? '✓' : ''}
                </td>
            ))}
            <td>{ color }</td>
        </tr>
    ))}
</table>


<style>
{`
    .subheading {
        --mediumdark: '#999999';
        font-weight: 900;
        font-size: 13px;
        color: #999;
        letter-spacing: 6px;
        line-height: 24px;
        text-transform: uppercase;
        margin-bottom: 12px;
        margin-top: 40px;
    }

    a.recruit {
        color: #152447;
    }

    .aside {
        font-size: 87.5%;
        line-height: 1.43;
        color: rgb(102, 102, 102);
        background: rgb(248, 250, 252);
        border-radius: 5px;
        padding: 1em;
        margin: 1.5em 0px;
    }

    .palette-td {
        width:10px;
    }
`}
</style>
